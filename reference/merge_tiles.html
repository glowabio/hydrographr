<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Merge raster or vector objects — merge_tiles • hydrographr</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Merge raster or vector objects — merge_tiles"><meta name="description" content="Merge multiple raster or spatial vector objects from disk
to form a new raster or spatial vector object with a larger spatial extent.
A directory with at least two raster .tif or spatial vector geopackage files
should be provided.
Depending on the input, the output is a .tif or a .gpkg file (saved under
out_dir). If read = TRUE, the output is read into R as a SpatRaster
(terra package) object in case of .tif files, or as a SpatVector
(terra package) object in case of .gpkg files."><meta property="og:description" content="Merge multiple raster or spatial vector objects from disk
to form a new raster or spatial vector object with a larger spatial extent.
A directory with at least two raster .tif or spatial vector geopackage files
should be provided.
Depending on the input, the output is a .tif or a .gpkg file (saved under
out_dir). If read = TRUE, the output is read into R as a SpatRaster
(terra package) object in case of .tif files, or as a SpatVector
(terra package) object in case of .gpkg files."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">hydrographr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.2.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/hydrographr.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/benchmark.html">Function benchmarks</a></li>
    <li><a class="dropdown-item" href="../articles/case_study_brazil.html">Case study - São Francisco drainage basin</a></li>
    <li><a class="dropdown-item" href="../articles/case_study_cuba.html">Case study - Cuba</a></li>
    <li><a class="dropdown-item" href="../articles/case_study_germany.html">Case study - Germany</a></li>
    <li><a class="dropdown-item" href="../articles/example_other_stream_networks.html">Usage of hydrographr with other stream networks</a></li>
    <li><a class="dropdown-item" href="../articles/linux_system_setup.html">Setting up the package requirements on Linux</a></li>
    <li><a class="dropdown-item" href="../articles/macos_system_setup.html">Setting up the package requirements on MacOS</a></li>
    <li><a class="dropdown-item" href="../articles/windows_system_setup.html">Setting up the package requirements on Windows</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/glowabio/hydrographr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Merge raster or vector objects</h1>
      <small class="dont-index">Source: <a href="https://github.com/glowabio/hydrographr/blob/HEAD/R/merge_tile.R" class="external-link"><code>R/merge_tile.R</code></a></small>
      <div class="d-none name"><code>merge_tiles.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Merge multiple raster or spatial vector objects from disk
to form a new raster or spatial vector object with a larger spatial extent.
A directory with at least two raster .tif or spatial vector geopackage files
should be provided.
Depending on the input, the output is a .tif or a .gpkg file (saved under
out_dir). If read = TRUE, the output is read into R as a SpatRaster
(terra package) object in case of .tif files, or as a SpatVector
(terra package) object in case of .gpkg files.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">merge_tiles</span><span class="op">(</span></span>
<span>  <span class="va">tile_dir</span>,</span>
<span>  <span class="va">tile_names</span>,</span>
<span>  <span class="va">out_dir</span>,</span>
<span>  <span class="va">file_name</span>,</span>
<span>  name <span class="op">=</span> <span class="st">"stream"</span>,</span>
<span>  compression <span class="op">=</span> <span class="st">"low"</span>,</span>
<span>  bigtiff <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  read <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  quiet <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-tile-dir">tile_dir<a class="anchor" aria-label="anchor" href="#arg-tile-dir"></a></dt>
<dd><p>character. The directory containing the raster or
spatial vectors tiles, which should be merged.</p></dd>


<dt id="arg-tile-names">tile_names<a class="anchor" aria-label="anchor" href="#arg-tile-names"></a></dt>
<dd><p>character. The names of the files to be merged,
including the file extension (.tif or .gpkg).</p></dd>


<dt id="arg-out-dir">out_dir<a class="anchor" aria-label="anchor" href="#arg-out-dir"></a></dt>
<dd><p>character. The directory where the output will be stored.</p></dd>


<dt id="arg-file-name">file_name<a class="anchor" aria-label="anchor" href="#arg-file-name"></a></dt>
<dd><p>character. Name of the merged output file, including the
file extension (.tif or .gpkg).</p></dd>


<dt id="arg-name">name<a class="anchor" aria-label="anchor" href="#arg-name"></a></dt>
<dd><p>character. The attribute table column name of the stream segment
("stream"), sub-catchment ("ID"), basin ("ID") or outlet ("ID") column which
is used for merging GeoPackages. Default is "stream".</p></dd>


<dt id="arg-compression">compression<a class="anchor" aria-label="anchor" href="#arg-compression"></a></dt>
<dd><p>character. Compression of the written output file.
Compression levels can be defined as "none", "low", or "high". Default is
"low", referring to compression type "DEFLATE" and compression level 2.
"high" refers to compression level 9.</p></dd>


<dt id="arg-bigtiff">bigtiff<a class="anchor" aria-label="anchor" href="#arg-bigtiff"></a></dt>
<dd><p>logical. Define whether the output file is expected to be a
BIGTIFF (file size larger than 4 GB). If FALSE and size &gt; 4GB no file will be
written. Default is TRUE.</p></dd>


<dt id="arg-read">read<a class="anchor" aria-label="anchor" href="#arg-read"></a></dt>
<dd><p>logical. If TRUE, the merged layer gets read
into R. If FALSE, the layer is only stored on disk. Default is FALSE.</p></dd>


<dt id="arg-quiet">quiet<a class="anchor" aria-label="anchor" href="#arg-quiet"></a></dt>
<dd><p>logical. If FALSE, the standard output will be printed.
Default is TRUE.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A .tif raster file or .gpkg spatial vector object that is always
written to disk, and optionally loaded into R.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p><a href="https://gdal.org/programs/gdalbuildvrt.html" class="external-link">https://gdal.org/programs/gdalbuildvrt.html</a></p>
<p><a href="https://gdal.org/programs/gdal_translate.html" class="external-link">https://gdal.org/programs/gdal_translate.html</a></p>
<p><a href="https://gdal.org/programs/ogrmerge.html#ogrmerge" class="external-link">https://gdal.org/programs/ogrmerge.html#ogrmerge</a></p>
<p><a href="https://gdal.org/programs/ogr2ogr.html" class="external-link">https://gdal.org/programs/ogr2ogr.html</a></p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Thomas Tomiczek, Jaime Garcia Marquez, Afroditi Grigoropoulou</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># Download tiles into the temporary R folder</span></span>
<span><span class="co"># or define a different directory</span></span>
<span><span class="va">my_directory</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="download_tiles.html">download_tiles</a></span><span class="op">(</span>variable <span class="op">=</span> <span class="st">"basin"</span>,</span>
<span>               file_format <span class="op">=</span> <span class="st">"tif"</span>,</span>
<span>               tile_id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"h22v08"</span>,<span class="st">"h22v10"</span><span class="op">)</span>,</span>
<span>               download_dir <span class="op">=</span> <span class="va">my_directory</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Define folder containing only the tiles, which should me merged</span></span>
<span><span class="va">tiles_folder</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">my_directory</span>, <span class="st">"/r.watershed/basin_tiles20d"</span><span class="op">)</span></span>
<span><span class="co"># Define output folder</span></span>
<span><span class="va">output_folder</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">my_directory</span>, <span class="st">"/merged_tiles"</span><span class="op">)</span></span>
<span><span class="co"># Create output folder if it doesn't exist</span></span>
<span><span class="kw">if</span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/files2.html" class="external-link">dir.exists</a></span><span class="op">(</span><span class="va">output_folder</span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/files2.html" class="external-link">dir.create</a></span><span class="op">(</span><span class="va">output_folder</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co"># Merge tiles</span></span>
<span><span class="va">merged_tiles</span> <span class="op">&lt;-</span> <span class="fu">merge_tiles</span><span class="op">(</span>tile_dir <span class="op">=</span> <span class="va">tiles_folder</span>,</span>
<span>                            tile_names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"basin_h22v08.tif"</span>, <span class="st">"basin_h22v10.tif"</span><span class="op">)</span>,</span>
<span>                            out_dir <span class="op">=</span> <span class="va">output_folder</span>,</span>
<span>                            file_name <span class="op">=</span> <span class="st">"basin_merged.tif"</span>,</span>
<span>                            read <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span></code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Marlene Schürz, Afroditi Grigoropoulou, Jaime Garcia Marquez, Yusdiel Torres Cambas, Christoph Schürz, Mathieu Floury, Thomas Tomiczek, Vanessa Bremerich, Merret Buurman, Giuseppe Amatulli, Sami Domisch.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

