<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Reclassify a raster layer — reclass_raster • hydrographr</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Reclassify a raster layer — reclass_raster"><meta name="description" content="Reclassifies a raster .tif layer based on a look-up table, such
that the output raster contains the new values. The function uses the r.reclass
function of GRASS GIS.
Note that the input raster needs to be of type integer. If the input raster
layer has floating point values, you can multiply it by some factor
(e.g. 1000) to achieve integer values, otherwise the GRASS GIS r.reclass will
round the raster values down to the next integer which is not always desired."><meta property="og:description" content="Reclassifies a raster .tif layer based on a look-up table, such
that the output raster contains the new values. The function uses the r.reclass
function of GRASS GIS.
Note that the input raster needs to be of type integer. If the input raster
layer has floating point values, you can multiply it by some factor
(e.g. 1000) to achieve integer values, otherwise the GRASS GIS r.reclass will
round the raster values down to the next integer which is not always desired."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">hydrographr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.2.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/hydrographr.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/benchmark.html">Function benchmarks</a></li>
    <li><a class="dropdown-item" href="../articles/case_study_brazil.html">Case study - São Francisco drainage basin</a></li>
    <li><a class="dropdown-item" href="../articles/case_study_cuba.html">Case study - Cuba</a></li>
    <li><a class="dropdown-item" href="../articles/case_study_germany.html">Case study - Germany</a></li>
    <li><a class="dropdown-item" href="../articles/example_other_stream_networks.html">Usage of hydrographr with other stream networks</a></li>
    <li><a class="dropdown-item" href="../articles/linux_system_setup.html">Setting up the package requirements on Linux</a></li>
    <li><a class="dropdown-item" href="../articles/macos_system_setup.html">Setting up the package requirements on MacOS</a></li>
    <li><a class="dropdown-item" href="../articles/windows_system_setup.html">Setting up the package requirements on Windows</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/glowabio/hydrographr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Reclassify a raster layer</h1>
      <small class="dont-index">Source: <a href="https://github.com/glowabio/hydrographr/blob/HEAD/R/reclass_raster.R" class="external-link"><code>R/reclass_raster.R</code></a></small>
      <div class="d-none name"><code>reclass_raster.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Reclassifies a raster .tif layer based on a look-up table, such
that the output raster contains the new values. The function uses the r.reclass
function of GRASS GIS.</p>
<p>Note that the input raster needs to be of type integer. If the input raster
layer has floating point values, you can multiply it by some factor
(e.g. 1000) to achieve integer values, otherwise the GRASS GIS r.reclass will
round the raster values down to the next integer which is not always desired.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">reclass_raster</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="va">rast_val</span>,</span>
<span>  <span class="va">new_val</span>,</span>
<span>  <span class="va">raster_layer</span>,</span>
<span>  <span class="va">recl_layer</span>,</span>
<span>  no_data <span class="op">=</span> <span class="op">-</span><span class="fl">9999</span>,</span>
<span>  type <span class="op">=</span> <span class="st">"Int32"</span>,</span>
<span>  compression <span class="op">=</span> <span class="st">"low"</span>,</span>
<span>  bigtiff <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  read <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  quiet <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>a data.frame or data.table with the original and new values to be
written to the raster.</p></dd>


<dt id="arg-rast-val">rast_val<a class="anchor" aria-label="anchor" href="#arg-rast-val"></a></dt>
<dd><p>character. The name of the column with the original raster
values.</p></dd>


<dt id="arg-new-val">new_val<a class="anchor" aria-label="anchor" href="#arg-new-val"></a></dt>
<dd><p>character. The name of the column with the new raster values,
which need to be integer values. In case of floating point values, consider
multiplying the values e.g. by 1000 to keep three decimals.</p></dd>


<dt id="arg-raster-layer">raster_layer<a class="anchor" aria-label="anchor" href="#arg-raster-layer"></a></dt>
<dd><p>Full path to the input raster .tif layer.</p></dd>


<dt id="arg-recl-layer">recl_layer<a class="anchor" aria-label="anchor" href="#arg-recl-layer"></a></dt>
<dd><p>character. Full path of the output .tif layer, i.e., the
reclassified raster file.</p></dd>


<dt id="arg-no-data">no_data<a class="anchor" aria-label="anchor" href="#arg-no-data"></a></dt>
<dd><p>numeric. The no_data value of the new .tif layer.
Default is -9999.</p></dd>


<dt id="arg-type">type<a class="anchor" aria-label="anchor" href="#arg-type"></a></dt>
<dd><p>character. Data type; Options are Byte, Int16, UInt16, Int32,
UInt32,CInt16, CInt32. Default is Int32. Note that only integer values are
allowed.</p></dd>


<dt id="arg-compression">compression<a class="anchor" aria-label="anchor" href="#arg-compression"></a></dt>
<dd><p>character. Compression of the written output file.
Compression levels can be defined as "none", "low", or "high". Default is
"low", referring to compression type "DEFLATE" and compression level 2.
"high" refers to compression level 9.</p></dd>


<dt id="arg-bigtiff">bigtiff<a class="anchor" aria-label="anchor" href="#arg-bigtiff"></a></dt>
<dd><p>logical. Define whether the output file is expected to be a
BIGTIFF (file size larger than 4 GB). If FALSE and size &gt; 4GB no file will be
written. Default is TRUE.</p></dd>


<dt id="arg-read">read<a class="anchor" aria-label="anchor" href="#arg-read"></a></dt>
<dd><p>logical. If TRUE, then the reclassified raster .tif layer
gets read into R as a SpatRaster (terra object).
If FALSE, the layer is only stored on disk. Default is FALSE.</p></dd>


<dt id="arg-quiet">quiet<a class="anchor" aria-label="anchor" href="#arg-quiet"></a></dt>
<dd><p>logical. If FALSE, the standard output will be printed.
Default is TRUE.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>https://grass.osgeo.org/grass82/manuals/r.reclass.html</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Marlene Schürz</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># Download test data into the temporary R folder</span></span>
<span><span class="co"># or define a different directory</span></span>
<span><span class="va">my_directory</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="download_test_data.html">download_test_data</a></span><span class="op">(</span><span class="va">my_directory</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Read the stream order for each sub-catchment as a data.table</span></span>
<span><span class="va">my_dt</span> <span class="op">&lt;-</span> <span class="fu"><a href="read_geopackage.html">read_geopackage</a></span><span class="op">(</span>gpkg<span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">my_directory</span>,</span>
<span>                                         <span class="st">"/hydrography90m_test_data"</span>,</span>
<span>                                         <span class="st">"/order_vect_59.gpkg"</span><span class="op">)</span>,</span>
<span>                         import_as <span class="op">=</span> <span class="st">"data.table"</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co"># Select the stream segment ID and and the Strahler stream order</span></span>
<span><span class="va">str_ord</span> <span class="op">&lt;-</span> <span class="va">my_dt</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"stream"</span>, <span class="st">"strahler"</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Define input and output raster layer</span></span>
<span><span class="va">stream_raster</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">my_directory</span>,</span>
<span>                        <span class="st">"/hydrography90m_test_data/stream_1264942.tif"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">recl_raster</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">my_directory</span>,</span>
<span>                      <span class="st">"/hydrography90m_test_data/reclassified_raster.tif"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Reclassify the stream network to obtain the Strahler stream order raster</span></span>
<span><span class="va">str_ord_rast</span> <span class="op">&lt;-</span> <span class="fu">reclass_raster</span><span class="op">(</span>data <span class="op">=</span> <span class="va">str_ord</span>,</span>
<span>                               rast_val <span class="op">=</span> <span class="st">"stream"</span>,</span>
<span>                               new_val <span class="op">=</span> <span class="st">"strahler"</span>,</span>
<span>                               raster_layer <span class="op">=</span> <span class="va">stream_raster</span>,</span>
<span>                               recl_layer <span class="op">=</span> <span class="va">recl_raster</span><span class="op">)</span></span>
<span></span></code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Marlene Schürz, Afroditi Grigoropoulou, Jaime Garcia Marquez, Yusdiel Torres Cambas, Christoph Schürz, Mathieu Floury, Thomas Tomiczek, Vanessa Bremerich, Merret Buurman, Giuseppe Amatulli, Sami Domisch.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

