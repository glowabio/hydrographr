---
title: "Windows system setup"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Getting started with hydrographr}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
#bibliography: literature.bib
link-citations: yes
linkcolor: blue
#csl: copernicus.csl
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

To use `hydrographr` on Windows it is necessary to install the Windows Subsystem for Linux (WSL) with the Ubuntu operating system.

Below you find a short summary of the most important information and steps to install WSL, so that `hydrographr` functions can use the subsystem in the background. 

If you like to learn more about the WSL, the [Microsoft webpage](https://learn.microsoft.com/en-us/windows/wsl/) provides a very good documentation.

## Installation of the Windows subsystem for Linux and Ubuntu

The installion of WSL and Ubuntu is very easy and fast, but you need to make sure that you at least have 4 GB of free space. 

You can install everything you need to run WSL by entering this command in an administrator PowerShell or Windows Command Prompt (cmd.exe) and then restarting your machine.

```{bash, eval=FALSE}
# Enable the features necessary to run WSL and 
# install the Ubuntu distribution of Linux. 
wsl --install 
```

After you have completed the installation, you have to open Ubuntu via the Start menu and create a **username** and **password** for the Linux distribution (This will be the default user account and administrator for Ubuntu). Please note that whilst entering the password, nothing will appear on screen and you won't see what you are typing, this is completely normal.

Window does not automatically update your Linux distribution. To update and upgrade your packages on Ubuntu, please, copy-paste the command below in your Ubuntu terminal. This should be done on a regularly basis. 

```{bash, eval=FALSE}
# Update and upgrade packages on Linux
sudo apt update && sudo apt upgrade
```

For more installation details see [here](https://learn.microsoft.com/en-us/windows/wsl/install). 

For more details about the username and password see [here](https://learn.microsoft.com/en-us/windows/wsl/setup/environment#set-up-your-linux-username-and-password).


## Installation of the required GIS tools on your WSL

Further, you need to install the required GIS tools on your WSL. To install the GIS tools on Ubuntu you can use the Ubuntu terminal, PowerShell or Windows Command Prompt. If you use the PowerShell or Windows Command Prompt use first the command `wsl` to enter the WSL and after installation the GIS tools `exit` to go back to your Windows OS. 

**Add the Ubuntugis repository**
```{bash, eval=FALSE}
sudo add-apt-repository ppa:ubuntugis/ubuntugis-unstable
sudo apt update
```

# Install gdal
```{bash, eval=FALSE}
sudo apt install gdal-bin python3-gdal 

# Install pktools
sudo apt install pktools
```

**GRASS GIS**
Copy-paste the commands below or see the [GRASS GIS](https://grass.osgeo.org/download/linux/) webpage for installation instruction on Ubuntu.

```{bash, eval=FALSE}
# Install GRASS GIS
sudo apt-get install grass grass-core grass-dev grass-gui grass-doc
```

**GRASS GIS addons**
Copy-paste the commands below to install the required addons for GRASS GIS
```{bash, eval=FALSE}
export GRASSEXEC="grass --exec"
$GRASSEXEC  g.extension  extension=r.stream.distance
$GRASSEXEC  g.extension  extension=r.stream.order
$GRASSEXEC  g.extension  extension=r.stream.snap
$GRASSEXEC  g.extension  extension=r.stream.basins
```

